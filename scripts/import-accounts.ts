
import { createClient } from '@supabase/supabase-js';
import dotenv from 'dotenv';

dotenv.config({ path: '.env.local' });

const csvData = `012000,Nehmotné výsledky výzkumu a vývoje,A,"0,00","0,00"
013000,Software,A,"0,00","0,00"
014000,Ostatní ocenitelná práva,A,"0,00","0,00"
015000,Goodwill,A,"0,00","0,00"
019000,Ostatní dlouhodobý nehmotný majetek,A,"0,00","0,00"
021000,Stavby,A,"0,00","0,00"
022000,Hmotné movité věci a jejich soubory,A,"0,00","0,00"
022001,Drobný DHM,A,"0,00","0,00"
022002,BMW X3 xDrive30D,A,"719 008,00","719 008,00"
025000,Pěstitelské celky trvalých porostů,A,"0,00","0,00"
026000,Dospělá zvířata a jejich skupiny,A,"0,00","0,00"
029000,Ostatní dlouhodobý hmotný majetek,A,"0,00","0,00"
031000,Pozemky,A,"0,00","0,00"
032000,Umělecká díla a sbírky,A,"0,00","0,00"
041000,Pořízení dlouhodobého nehmotného majetku,A,"0,00","0,00"
042000,Pořízení dlouhodobého hmotného majetku,A,"0,00","0,00"
043000,Pořízení dlouhodobého finančního majetku,A,"0,00","0,00"
043001,Pořízení dlouhodobého finančního majetku - ovládaná a ovládající osoba,A,"0,00","0,00"
043002,Pořízení dlouhodobého finančního majetku - podstatný vliv,A,"0,00","0,00"
043003,Pořízení dlouhodobého finančního majetku - ostatní dlouhodobé cenné papíry a podíly,A,"0,00","0,00"
043004,Pořízení dlouhodobého finančního majetku - jiný dlouhotrvající finanční majetek,A,"0,00","0,00"
051000,Poskytnuté zálohy a závdavky na nehmotný investiční majetek,A,"0,00","0,00"
052000,Poskytnuté zálohy a závdavky na dlouhodobý hmotný majetek,A,"0,00","0,00"
053000,Poskytnuté zálohy a závdavky na dlouhodobý finanční majetek,A,"0,00","0,00"
061000,Podílové cenné papíry v ovládaných nebo ovládajících osobách,A,"0,00","0,00"
062000,Podílové cenné papíry a podíly v obchodních závodech s podstatným vlivem,A,"0,00","0,00"
063000,Realizovatelné cenné papíry a podíly,A,"0,00","0,00"
065000,Dluhové cenné papíry držené do splatnosti,A,"0,00","0,00"
066000,"Zápůjčky a úvěry, ovládaná a ovládající osoba, podstatný vliv",A,"0,00","0,00"
066001,"Zápůjčky a úvěry, ovládaná a ovládající osoba",A,"0,00","0,00"
066002,"Zápůjčky a úvěry, podstatný vliv",A,"0,00","0,00"
067000,Ostatní půjčky,A,"0,00","0,00"
069000,Ostatní dlouhodobý finanční majetek,A,"0,00","0,00"
071000,Oprávky ke zřizovacím výdajům,A,"0,00","0,00"
072000,Oprávky k nehmotným výsledkům výzkumu a vývoje,A,"0,00","0,00"
073000,Oprávky k softwaru,A,"0,00","0,00"
074000,Oprávky k ocenitelným právům,A,"0,00","0,00"
075000,Oprávky ke Goodwil,A,"0,00","0,00"
079000,Oprávky k ostatnímu dlouhodobému nehmotnému majetku,A,"0,00","0,00"
081000,Oprávky ke stavbám,A,"0,00","0,00"
082000,Oprávky k hmotným movitým věcem a souborům hmotných movitých věcí,A,"0,00","0,00"
082001,Oprávky k DDHM,A,"0,00","0,00"
082002,BMW X3 xDrive30D,A,"-107 852,00","-107 852,00"
085000,Oprávky k pěstitelským celkům trvalých porostů,A,"0,00","0,00"
086000,Oprávky k dospělým zvířatům a jejich skupinám,A,"0,00","0,00"
089000,Oprávky k ostatnímu hmotnému dlouhodobému majetku,A,"0,00","0,00"
091000,Opravná položka k dlouhodobému nehmotnému majetku,A,"0,00","0,00"
092000,Opravná položka k dlouhodobému hmotnému majetku,A,"0,00","0,00"
093000,Opravná položka k dlouhodobému nedokončenému nehmotnému majetku,A,"0,00","0,00"
094000,Opravná položka k dlouhodobému nedokončenému hmotnému majetku,A,"0,00","0,00"
095000,Opravná položka k poskytnutým zálohám a závdavkům,A,"0,00","0,00"
096000,Opravná položka k dlouhodobému finančnímu majetku,A,"0,00","0,00"
097000,Oceňovací rozdíl k nabytému majetku,A,"0,00","0,00"
098000,Oprávky k oceňovacím rozdílům k nabytému majetku,A,"0,00","0,00"
111000,Pořízení materiálu,A,"0,00","0,00"
112000,Materiál na skladě,A,"0,00","0,00"
119000,Materiál na cestě,A,"0,00","0,00"
121000,Nedokončená výroba,A,"0,00","0,00"
122000,Polotovary vlastní výroby,A,"0,00","0,00"
123000,Výrobky,A,"0,00","0,00"
124000,Mladá a ostatní zvířata a jejich skupiny,A,"0,00","0,00"
131000,Pořízení zboží,A,"0,00","0,00"
132000,Zboží na skladě a v prodejnách,A,"0,00","0,00"
139000,Zboží na cestě,A,"0,00","0,00"
191000,Opravná položka k materiálu,A,"0,00","0,00"
192000,Opravná položka k nedokončené výrobě,A,"0,00","0,00"
193000,Opravná položka k polotovarům vlastní výroby,A,"0,00","0,00"
194000,Opravná položka k výrobkům,A,"0,00","0,00"
195000,Opravná položka k mladým a ostatním zvířatům a jejich skupinám,A,"0,00","0,00"
196000,Opravná položka ke zboží,A,"0,00","0,00"
211000,Pokladna,A,"0,00","0,00"
211001,Hlavní pokladna CZK,A,"0,00","0,00"
211002,Hlavní pokladna EUR,A,"0,00","0,00"
213000,Ceniny,A,"0,00","0,00"
221000,Bankovní účty,A,"0,00","0,00"
221001,fio_208_czk,A,"146 525,45","165 471,14"
221002,fio_641_czk,A,"711 127,42","1 000 000,00"
231000,Krátkodobé bankovní úvěry,"","0,00","0,00"
232000,Eskontní úvěry,"","0,00","0,00"
241000,Emitované krátkodobé dluhopisy,"","0,00","0,00"
249000,Ostatní krátkodobé finanční výpomoci,"","0,00","0,00"
251000,Majetkové cenné papíry k obchodování,A,"0,00","0,00"
252000,Vlastní akcie a vlastní obchodní podíly,A,"0,00","0,00"
253000,Dlužné cenné papíry k obchodování,A,"0,00","0,00"
255000,Vlastní dluhopisy,"","0,00","0,00"
256000,Dlužné CP se splatností do jednoho roku držené po spl.,A,"0,00","0,00"
257000,Ostatní realizovatelné cenné papíry,A,"0,00","0,00"
259000,Pořizování krátkodobého finančního majetku,A,"0,00","0,00"
261000,Peníze na cestě,A,"0,00","0,00"
291000,Opravná položka ke krátkodobému finančnímu majetku,A,"0,00","0,00"
311000,Pohledávky z obchodních vztahů,A,"386 153,35","0,00"
311999,Odběratelé - období bez UOL,A,"0,00","0,00"
313000,Pohledávky za eskontované CP,A,"0,00","0,00"
314000,Poskytnuté provozní zálohy,A,"10 723,21","10 723,21"
315000,Ostatní pohledávky,A,"0,00","0,00"
321000,Závazky z obchodních vztahů,"","66 565,83","2 268,75"
321999,Dodavatelé - období bez UOL,"","0,00","0,00"
322000,Směnky k úhradě,"","0,00","0,00"
324000,Přijaté provozní zálohy,"","0,00","0,00"
324500,Zálohy - slevy,"","0,00","0,00"
325000,Ostatní závazky,"","0,00","0,00"
331000,Zaměstnanci,"","0,00","0,00"
333000,Ostatní závazky vůči zaměstnancům,"","0,00","0,00"
335000,Pohledávky za zaměstnanci,A,"0,00","0,00"
336000,Zúčtování s institucemi sociálního zabezpečení a zdravotního pojištění,"","0,00","0,00"
336001,Zúčtování SP,"","0,00","0,00"
336002,Zúčtování ZP,"","0,00","0,00"
336003,Zúčtování Kooperativa,"","0,00","0,00"
341000,Daň z příjmu,"","0,00","0,00"
342000,Ostatní přímé daně,"","0,00","0,00"
342336,Důchodové spoření 2. pilíř,"","0,00","0,00"
343000,Daň z přidané hodnoty,"","0,00","0,00"
343001,DPH v základní sazbě,"","-4 147,92","-4 890,39"
343002,DPH ve snížené sazbě,"","0,00","0,00"
343003,Platby a příjem DPH,"","56 378,00","56 378,00"
343004,DPH ve třetí sazbě,"","0,00","0,00"
343100,Účet pro BE DPH v sazbě Z,"","0,00","0,00"
343101,Účet pro BE DPH v sazbě S,"","0,00","0,00"
343102,Účet pro BE DPH v sazbě T,"","0,00","0,00"
343103,Účet pro BG DPH v sazbě Z,"","0,00","0,00"
343104,Účet pro BG DPH v sazbě S,"","0,00","0,00"
343105,Účet pro HR DPH v sazbě Z,"","0,00","0,00"
343106,Účet pro HR DPH v sazbě S,"","0,00","0,00"
343107,Účet pro HR DPH v sazbě T,"","0,00","0,00"
343108,Účet pro DK DPH v sazbě Z,"","0,00","0,00"
343109,Účet pro EE DPH v sazbě Z,"","0,00","0,00"
343110,Účet pro EE DPH v sazbě S,"","0,00","0,00"
343111,Spojovací účet pro DPH,"","0,00","0,00"
343112,Účet pro FI DPH v sazbě S,"","0,00","0,00"
343113,Účet pro FI DPH v sazbě T,"","0,00","0,00"
343114,Účet pro FR DPH v sazbě Z,"","0,00","0,00"
343115,Účet pro FR DPH v sazbě S,"","0,00","0,00"
343116,Účet pro FR DPH v sazbě T,"","0,00","0,00"
343118,Účet pro NL DPH v sazbě Z,"","0,00","0,00"
343119,Účet pro NL DPH v sazbě S,"","0,00","0,00"
343120,Účet pro IE DPH v sazbě Z,"","0,00","0,00"
343121,Účet pro IE DPH v sazbě S,"","0,00","0,00"
343122,Účet pro IE DPH v sazbě T,"","0,00","0,00"
343124,Účet pro IT DPH v sazbě Z,"","0,00","0,00"
343125,Účet pro IT DPH v sazbě S,"","0,00","0,00"
343126,Účet pro IT DPH v sazbě T,"","0,00","0,00"
343128,Účet pro CY DPH v sazbě Z,"","0,00","0,00"
343129,Účet pro CY DPH v sazbě S,"","0,00","0,00"
343130,Účet pro CY DPH v sazbě T,"","0,00","0,00"
343131,Účet pro LT DPH v sazbě Z,"","0,00","0,00"
343132,Účet pro LT DPH v sazbě S,"","0,00","0,00"
343133,Účet pro LT DPH v sazbě T,"","0,00","0,00"
343134,Účet pro LV DPH v sazbě Z,"","0,00","0,00"
343135,Účet pro LV DPH v sazbě S,"","0,00","0,00"
343136,Účet pro LV DPH v sazbě T,"","0,00","0,00"
343137,Účet pro LU DPH v sazbě Z,"","0,00","0,00"
343138,Účet pro LU DPH v sazbě S,"","0,00","0,00"
343140,Účet pro HU DPH v sazbě Z,"","0,00","0,00"
343141,Účet pro HU DPH v sazbě S,"","0,00","0,00"
343142,Účet pro HU DPH v sazbě T,"","0,00","0,00"
343143,Účet pro MT DPH v sazbě Z,"","0,00","0,00"
343144,Účet pro MT DPH v sazbě S,"","0,00","0,00"
343145,Účet pro MT DPH v sazbě T,"","0,00","0,00"
343146,Účet pro DE DPH v sazbě Z,"","0,00","0,00"
343147,Účet pro DE DPH v sazbě S,"","0,00","0,00"
343148,Účet pro PL DPH v sazbě Z,"","0,00","0,00"
343149,Účet pro PL DPH v sazbě S,"","0,00","0,00"
343150,Účet pro PL DPH v sazbě T,"","0,00","0,00"
343151,Účet pro PT DPH v sazbě Z,"","0,00","0,00"
343152,Účet pro PT DPH v sazbě S,"","0,00","0,00"
343153,Účet pro PT DPH v sazbě T,"","0,00","0,00"
343154,Účet pro AT DPH v sazbě Z,"","0,00","0,00"
343155,Účet pro AT DPH v sazbě S,"","0,00","0,00"
343156,Účet pro AT DPH v sazbě T,"","0,00","0,00"
343157,Účet pro GR DPH v sazbě Z,"","0,00","0,00"
343158,Účet pro GR DPH v sazbě S,"","0,00","0,00"
343159,Účet pro GR DPH v sazbě T,"","0,00","0,00"
343160,Účet pro RO DPH v sazbě Z,"","0,00","0,00"
343161,Účet pro RO DPH v sazbě S,"","0,00","0,00"
343162,Účet pro RO DPH v sazbě T,"","0,00","0,00"
343163,Účet pro SK DPH v sazbě Z,"","0,00","0,00"
343164,Účet pro SK DPH v sazbě S,"","0,00","0,00"
343165,Účet pro SI DPH v sazbě Z,"","0,00","0,00"
343166,Účet pro SI DPH v sazbě S,"","0,00","0,00"
343167,Účet pro SI DPH v sazbě T,"","0,00","0,00"
343168,Účet pro ES DPH v sazbě Z,"","0,00","0,00"
343169,Účet pro ES DPH v sazbě S,"","0,00","0,00"
343173,Účet pro SE DPH v sazbě Z,"","0,00","0,00"
343174,Účet pro SE DPH v sazbě S,"","0,00","0,00"
343175,Účet pro SE DPH v sazbě T,"","0,00","0,00"
343176,Účet pro FI DPH v sazbě Z,"","0,00","0,00"
345000,Ostatní daně a poplatky,"","0,00","0,00"
345001,Silniční daň,"","0,00","0,00"
346000,Dotace ze státního rozpočtu,"","0,00","0,00"
347000,Ostatní dotace,"","0,00","0,00"
351000,"Pohledávky - ovládaná nebo ovládající osoba, podstatný vliv",A,"0,00","0,00"
351001,Pohledávky - ovládaná nebo ovládající osoba,A,"0,00","0,00"
351002,Pohledávky - podstatný vliv,A,"0,00","0,00"
353000,Pohledávky za upsaný vlastní kapitál,A,"0,00","0,00"
354000,Pohledávky za společníky při úhradě ztráty,A,"0,00","0,00"
355000,Ostatní pohledávky za společníky a členy družstva,A,"0,00","0,00"
355999,Výdaje nesouvisející s ekonomickou činností podniku,A,"20,00","20,00"
358000,Pohledávky ke společníkům sdruženým ve společnosti,A,"0,00","0,00"
361000,"Závazky - ovládaná nebo ovládající osoba, podstatný vliv","","0,00","0,00"
361001,Závazky - ovládaná nebo ovládající osoba,"","0,00","0,00"
361002,Závazky - podstatný vliv,"","0,00","0,00"
364000,Závazky ke společníkům při rozdělení zisku,"","0,00","0,00"
365000,Ostatní závazky ke společníkům a členům družstva,"","1 000 000,00","1 000 000,00"
366000,Závazky ke společníkům a členům družstva,"","0,00","0,00"
367000,Závazky z upsaných a nesplacených CP a vkladů,"","0,00","0,00"
368000,Závazky ke společníkům sdruženým ve společnosti,"","0,00","0,00"
371000,Pohledávky z prodeje obchodního závodu,A,"0,00","0,00"
373000,Pohledávky a závazky z pevných term. operací,A,"0,00","0,00"
374000,Pohledávky z pachtu,A,"0,00","0,00"
375000,Pohledávky z emitovaných dluhopisů,A,"0,00","0,00"
376000,Nakoupené opce,A,"0,00","0,00"
377000,Prodané opce,"","0,00","0,00"
378000,Jiné pohledávky,A,"0,00","0,00"
378999,Mylná platba,A,"0,00","0,00"
379000,Jiné závazky,"","0,00","0,00"
379001,Leasing,"","0,00","0,00"
379002,Nájemné,"","0,00","0,00"
381000,Náklady příštích období,A,"0,00","0,00"
381001,Náklady příštích období - akontace,A,"0,00","0,00"
382000,Komplexní náklady příštích období,A,"0,00","0,00"
383000,Výdaje příštích období,"","0,00","0,00"
384000,Výnosy příštích období,"","0,00","0,00"
385000,Příjmy příštích období,A,"0,00","0,00"
388000,Dohadné účty aktivní,A,"0,00","0,00"
389000,Dohadné účty pasivní,"","0,00","0,00"
391000,Opravná položka k pohledávkám,A,"0,00","0,00"
395000,Vnitřní zúčtování,"","0,00","0,00"
395001,Vnitřní zúčtování - zápočty,"","0,00","0,00"
411000,Základní kapitál,"","10 000,00","10 000,00"
412000,Ážio,"","0,00","0,00"
413000,Ostatní kapitálové fondy,"","250 000,00","250 000,00"
414000,Oceňovací rozdíly z přecenění majetku a závazků,"","0,00","0,00"
419000,Změny základního kapitálu,"","0,00","0,00"
421000,Rezervní fond,"","0,00","0,00"
422000,Nedělitelný fond,"","0,00","0,00"
423000,Statutární fondy,"","0,00","0,00"
426000,Jiný výsledek hospodaření minulých let,"","0,00","0,00"
427000,Ostatní fondy,"","0,00","0,00"
428000,Nerozdělený zisk minulých let,"","0,00","0,00"
429000,Neuhrazená ztráta minulých let,"","0,00","0,00"
431000,HV ve schvalování,"","0,00","0,00"
451000,Rezervy podle zvláštních předpisů,"","0,00","0,00"
459000,Ostatní rezervy,"","0,00","0,00"
461000,Dlouhodobé bankovní úvěry,"","0,00","0,00"
471000,"Dlouhodobé závazky - ovládaná nebo ovládající osoba, podstatný vliv","","0,00","0,00"
471001,Dlouhodobé závazky - ovládaná nebo ovládající osoba,"","0,00","0,00"
471002,Dlouhodobé závazky - podstatný vliv,"","0,00","0,00"
473000,Emitované dluhopisy,"","0,00","0,00"
474000,Závazky z pachtu,"","0,00","0,00"
475000,Dlouhodobé přijaté zálohy a závdavky,"","0,00","0,00"
478000,Dlouhodobé směnky k úhradě,"","0,00","0,00"
479000,Ostatní dlouhodobé závazky,"","0,00","0,00"
481000,Odložená daňová pohledávka či závazek,"","0,00","0,00"
491000,Účet individuálního podnikatele,"","0,00","0,00"
501001,Kancelářské potřeby,A,"0,00","945,45"
501002,Drobný majetek,A,"0,00","0,00"
501003,Pohonné hmoty,A,"0,00","329,75"
501004,Drobný materiál,A,"0,00","0,00"
501005,Publikace,A,"0,00","0,00"
501999,Materiál - nedaňový,A,"0,00","0,00"
502000,Spotřeba energie,A,"0,00","0,00"
502001,"Energie 19% DPH (elektřina, plyn, ...)",A,"0,00","0,00"
502002,"Energie 5% DPH (vodné, ...)",A,"0,00","0,00"
503000,Spotřeba ostatních neskladovatelných dodávek,A,"0,00","0,00"
504000,Nákup zboží,A,"0,00","0,00"
511000,Opravy a udržování,A,"0,00","0,00"
511001,Opravy a údržba vozů,A,"0,00","0,00"
511002,Opravy a údržba zařízení,A,"0,00","0,00"
512000,Cestovné,A,"0,00","0,00"
513000,Náklady na reprezentace,A,"0,00","0,00"
518001,Poštovné,A,"0,00","0,00"
518002,Pojistné,A,"0,00","0,00"
518003,Drobný nehmotný majetek,A,"0,00","0,00"
518004,Účetní služby,A,"0,00","2 000,00"
518005,Nájemné kancelářských ploch,A,"0,00","0,00"
518006,Internet,A,"0,00","0,00"
518007,Hovorné - pevné linky,A,"0,00","0,00"
518008,Hovorné - mobilní telefony,A,"0,00","0,00"
518009,Právní služby,A,"0,00","0,00"
518010,"Reklama, inzerce",A,"0,00","0,00"
518012,Služby spojené s nájmem,A,"0,00","0,00"
518013,Kurýrní služby,A,"0,00","0,00"
518014,Leasing,A,"0,00","0,00"
518015,Pojistné - leasing,A,"0,00","0,00"
518016,Parkovné,A,"0,00","0,00"
518017,SMS,A,"0,00","0,00"
518018,Stavební práce,A,"0,00","0,00"
518019,Taxi,A,"0,00","0,00"
518020,apl,A,"0,00","0,00"
518021,Konzultace IT,A,"0,00","9 760,00"
518022,Konzultace projekty,A,"0,00","0,00"
518023,Konzultace business analyst,A,"0,00","0,00"
518024,Webové služby,A,"0,00","261,00"
518101,Ostatní režijní služby,A,"0,00","0,00"
518999,Nedaňové služby,A,"0,00","0,00"
521000,Mzdové náklady,A,"0,00","0,00"
521001,Mzdové náklady - dohody,A,"0,00","0,00"
522000,Příjmy společníků a členů družstva ze závislé činnosti,A,"0,00","0,00"
523000,Odměny členům orgánů společností a družstva,A,"0,00","0,00"
524000,Zákonné sociální pojištění,A,"0,00","0,00"
524001,Sociální pojištění,A,"0,00","0,00"
524002,Zdravotní pojištění,A,"0,00","0,00"
524003,Zákonné pojištění Kooperativa,A,"0,00","0,00"
525000,Ostatní sociální pojištění,A,"0,00","0,00"
526000,Sociální náklady individuálního podnikatele,A,"0,00","0,00"
527000,Zákonné sociální náklady,A,"0,00","0,00"
527001,Stravenky,A,"0,00","0,00"
528000,Ostatní sociální náklady,A,"0,00","0,00"
528001,Životní pojištění - zaměstnanci,A,"0,00","0,00"
528002,Penzijní pojištění - zaměstnanci,A,"0,00","0,00"
531000,Silniční daň,A,"0,00","0,00"
531001,Silniční daň,A,"0,00","0,00"
532000,Daň z nemovitých věcí,A,"0,00","0,00"
538000,Ostatní daně a poplatky,A,"0,00","0,00"
541000,Zůstatková cena prodaného dlouhodobého hm. a nehm. majetku,A,"0,00","0,00"
542000,Prodaný materiál,A,"0,00","0,00"
543000,Dary,A,"0,00","0,00"
544000,Smluvní pokuty a penále,A,"0,00","0,00"
545000,Ostatní pokuty a penále,A,"0,00","0,00"
546000,Odpis pohledávky,A,"0,00","0,00"
548000,Ostatní provozní náklady,A,"0,00","0,00"
548001,Zaokrouhlení (FP),A,"0,00","0,00"
548003,Zaokrouhlení - automaticky,A,"0,00","-0,67"
548100,Pojištění,A,"0,00","0,00"
549000,Manka a škody provozní,A,"0,00","0,00"
551000,Odpisy nehmotného a hmotného majetku,A,"0,00","0,00"
552000,Tvorba a zúčtování rezerv dle zvl. právních předpisů,A,"0,00","0,00"
554000,Tvorba a zúčtování ostatních rezerv,A,"0,00","0,00"
555000,Tvorba a zúčtování komplexních nákladů příštích období,A,"0,00","0,00"
557000,Zúčtování oprávky k oceňovacímu rozdílu k nabytému majetku,A,"0,00","0,00"
558000,Zákonné opravné položky,A,"0,00","0,00"
559000,Tvorba opravných položek,A,"0,00","0,00"
561000,Prodané cenné papíry a podíly,A,"0,00","0,00"
562000,Úroky,A,"0,00","0,00"
562001,Úroky z bankovního účtu,A,"0,00","0,00"
562002,Úroky z poskytnutých zápůjček,A,"0,00","0,00"
563000,Kurzové ztráty,A,"0,00","0,00"
563100,Kurzové ztráty - automaticky,A,"0,00","0,00"
564000,Náklady z přecenění cenných papírů,A,"0,00","0,00"
566000,Náklady z finančního majetku,A,"0,00","0,00"
567000,Náklady z derivátových operací,A,"0,00","0,00"
568000,Ostatní finanční náklady,A,"0,00","0,00"
568001,Bankovní poplatky,A,"0,00","0,00"
574000,Tvorba a zúčtování finančních rezerv rezerv,A,"0,00","0,00"
579000,Tvorba a zúčtování opravných položek ve finanční činnosti,A,"0,00","0,00"
581000,Změna stavu nedokončené výroby,A,"0,00","0,00"
582000,Změna stavu polotovarů,A,"0,00","0,00"
583000,Změna stavu výrobků,A,"0,00","0,00"
584000,Změna stavu mladých a ostatních zvířat a jejich skupin,A,"0,00","0,00"
585000,Aktivace materiálu a zboží,A,"0,00","0,00"
586000,Aktivace vnitropodnikových služeb,A,"0,00","0,00"
587000,Aktivace dlouhodobého nehmotného majetku,A,"0,00","0,00"
588000,Aktivace dlouhodobého hmotného majetku,A,"0,00","0,00"
589000,Tvorba a zúčtování opravných položek v mimořádné činnosti,A,"0,00","0,00"
591000,Daň z příjmů - splatná,A,"0,00","0,00"
592000,Daň z příjmů - odložená,A,"0,00","0,00"
593000,Daň z příjmů z mimořádné činnosti - splatná,A,"0,00","0,00"
594000,Daň z příjmů z mimořádné činnosti - odložená,A,"0,00","0,00"
595000,Dodatečné odvody daně z příjmů,A,"0,00","0,00"
596000,Převod podílu na výsledku hospodaření společníkům,A,"0,00","0,00"
597000,Převod provozních nákladů,A,"0,00","0,00"
598000,Převod finančních nákladů,A,"0,00","0,00"
601000,Tržby za vlastní výrobky,"","0,00","0,00"
602000,Tržby z prodeje služeb,"","0,00","0,00"
604000,Tržby za zboží,"","0,00","0,00"
641000,Tržby z prodeje dlouhodobého nehmotného a hmotného majetku,"","0,00","0,00"
642000,Tržby z prodeje materiálu,"","0,00","0,00"
643000,Přijaté dary v provozní oblasti,"","0,00","0,00"
644000,Smluvní pokuty a penále,"","0,00","0,00"
646000,Výnosy z odepsaných pohledávek,"","0,00","0,00"
648000,Ostatní provozní výnosy,"","0,00","0,00"
648001,Zaokrouhlení (FV),"","0,00","0,00"
648003,Zaokrouhlení (FP),"","0,00","0,00"
661000,Tržby z prodeje cenných papírů a podílů,"","0,00","0,00"
662000,Úroky,"","0,00","0,00"
662001,Úroky z BÚ,"","0,00","0,00"
663000,Kurzové zisky,"","0,00","0,00"
663100,Kurzové zisky - automaticky,"","0,00","0,00"
664000,Výnosy z přecenění cenných papírů a derivátů,"","0,00","0,00"
665000,Výnosy z dlouhodobého finančního majetku,"","0,00","0,00"
666000,Výnosy z krátkodobého finančního majetku,"","0,00","0,00"
667000,Výnosy z derivátových operací,"","0,00","0,00"
668000,Ostatní finanční výnosy,"","0,00","0,00"
668002,Zaokrouhlení,"","0,00","0,00"
697000,Převod provozních výnosů,"","0,00","0,00"
698000,Převod finančních výnosů,"","0,00","0,00"`;

async function main() {
    console.log('--- Importing Accounts ---');
    const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
    const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

    if (!supabaseUrl || !supabaseKey) { return; }

    const supabase = createClient(supabaseUrl, supabaseKey);

    const lines = csvData.split(/\r?\n/);
    const records = [];

    // Regex to handle quoted strings containing commas
    const regex = /^([^,]+),(".*?"|[^,]*),/;

    for (const line of lines) {
        if (!line.trim()) continue;
        const match = line.match(regex);
        if (match) {
            const code = match[1].trim();
            // Remove quotes if present
            let name = match[2].trim();
            if (name.startsWith('"') && name.endsWith('"')) {
                name = name.slice(1, -1);
            }
            records.push({ code, name });
        } else {
            // console.warn('Skipping line:', line);
        }
    }

    console.log(`Found ${records.length} records. Uploading...`);

    // Upsert in batches
    const chunkSize = 100;
    for (let i = 0; i < records.length; i += chunkSize) {
        const chunk = records.slice(i, i + chunkSize);
        const { error } = await supabase
            .from('accounting_accounts')
            .upsert(chunk, { onConflict: 'code', ignoreDuplicates: false });

        if (error) {
            console.error('Error importing batch:', error);
        } else {
            console.log(`Imported batch ${i} - ${i + chunk.length}`);
        }
    }

    console.log('Import Complete.');
}

main();
